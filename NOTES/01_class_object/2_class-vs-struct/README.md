[MindMap](./class-vs-struct.png)

[demo](./demo.cpp)


# C++ 学习笔记：Class 与 Struct 的核心对比

> 本笔记基于思维导图整理，旨在厘清 C++ 中 `class` 和 `struct` 的区别、设计初衷及最佳实践。

## 1. 核心区别 (Core Difference)
这是二者在语法层面上唯一的本质区别：
* **Class**: 成员默认的访问权限是 **私有 (private)**。
* **Struct**: 成员默认的访问权限是 **公有 (public)**。

## 2. 为什么依然存在 Struct？ (History & Philosophy)
* **历史包袱**: 为了保持与 C 语言的 **向后兼容性 (Backward Compatibility)**。
* **C 语言背景**: 在 C 语言中只有 `struct` 没有 `class`，C++ 保留它以便旧代码能顺利迁移。

## 3. 语义与使用场景 (Usage Contexts)
虽然在 C++ 中二者功能几乎等价，但在业界惯例中，它们代表了不同的语义：

### ? 什么时候使用 Struct？
通常用于表示 **"被动的数据集合"**。
* **简单数据结构 (POD - Plain Old Data)**: 只有数据，没有复杂的构造/析构逻辑。
* **纯变量集合**: 将一组相关变量打包。
* **数学对象**: 如向量 (`Vec2`, `Vec3`)、坐标点 (`Point`)、颜色 (`Color`)。
* **辅助性简单方法**: 仅包含简单的初始化或数据访问函数。

### ? 什么时候使用 Class？
通常用于表示 **"主动的功能实体"**。
* **复杂功能体**: 具有内部状态和复杂行为的对象。
* **封装逻辑**: 包含大量方法，且数据需要被保护（Private）。
* **继承与多态**: 用于构建复杂的继承体系或层次结构。
* **系统组件**: 如 `Player` (玩家), `GameWorld` (游戏世界), `NetworkManager` (网络管理器)。

## 4. 最佳实践建议 (Best Practices)
* **避免在 Struct 中使用继承**: 如果需要继承，通常意味着逻辑变得复杂，应该改用 Class。
* **不要混合继承**: 避免让 Struct 继承自 Class，或反之。
* **风格一致性**: 根据代码的复杂度明确选择一种风格，不要混用。

---